# QR חד-פעמי (Render - OpenCV)

פרויקט זה מאפשר להעלות תמונת QR קבועה ולקבל קוד QR חד-פעמי שמפנה אל היעד רק פעם אחת.

## מה חדש בגרסה זו
- החלפנו את `pyzbar` ב-`opencv-python` כדי למנוע את הצורך ב-zbar (בעיות פריסה ב-Render).
- שמירה של הטוקנים ב-SQLite (db.sqlite3) כך שהטוקנים יחזיקו מעבר לאתחול קצר של התהליך.

## התקנה מקומית (בדיקות)
1. חלץ את התיקייה מה-ZIP.
2. התקן Python 3.10/3.11 וודא שהוספת ל-PATH.
3. התקן את התלויות:
   ```bash
   pip install -r requirements.txt
   ```
4. הרץ את השרת מקומית:
   ```bash
   python app.py
   ```
5. פתח דפדפן והכנס ל- http://127.0.0.1:5000

## פריסה ב-Render (שלבים מהירים)
1. צור ריפוזיטורי חדש ב-GitHub והעלה את כל הקבצים מהתיקייה.
2. כנס ל-Render -> New -> Web Service -> Connect GitHub -> בחר את ה-Repo.
3. Render יזהה את `render.yaml` ויבצע את ה-build וה-deploy אוטומטית.
4. לאחר סיום תקבל URL ציבורי. היכנס אליו, העלה תמונה של ה-QR הקבוע, וקבל קובץ PNG של ה-QR החד-פעמי.

## הערות
- ודא שהתמונות שאתה מעלה ברורות (לא מטושטשות) כדי שאבחון ה-QR יעבוד טוב.
- אם ה-QR המקורי מכיל טקסט שאינו URL, השירות יציג את הטקסט ישירות במקום לבצע Redirect.
- קובץ DB (`db.sqlite3`) ייווצר בתיקיית הפרויקט ב-Render; אם אתה עושה שינויים מרובים, חשוב לדעת שקבצי מערכת בקונטיינר על Render נחשבים ל-ephemeral ברמות שונות, אך עבור שימוש רגיל DB ישמור פריטים בין restarts קטנים.
